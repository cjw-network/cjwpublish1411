Bug fixes, user interface cleanups and optimizations.
